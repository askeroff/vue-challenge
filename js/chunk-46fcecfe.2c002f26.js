(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46fcecfe"],{"108e":function(e,t,n){"use strict";var o=n("6a54"),s=n.n(o);s.a},"17c2":function(e,t,n){"use strict";var o=n("b727").forEach,s=n("b301");e.exports=s("forEach")?function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1dde":function(e,t,n){var o=n("d039"),s=n("b622"),r=n("60ae"),i=s("species");e.exports=function(e){return r>=51||!o((function(){var t=[],n=t.constructor={};return n[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2eea":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.ready?e._e():n("div",[e._v("Connecting...")]),e.ready?n("div",[n("form",{staticClass:"comment_form flex",on:{submit:function(){return!1}}},[n("label",{attrs:{for:"comment"}},[e._v("Comment")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCommentText,expression:"newCommentText"}],staticClass:"input_form",attrs:{type:"text",id:"comment"},domProps:{value:e.newCommentText},on:{input:function(t){t.target.composing||(e.newCommentText=t.target.value)}}}),n("input",{attrs:{disabled:""===e.newCommentText,type:"submit",value:"Add"},on:{click:function(t){return e.addCommentRequest()}}})]),""!==e.errorMessage?n("div",{staticClass:"error_message"},[e._v(e._s(e.errorMessage))]):e._e(),n("div",{staticClass:"comments"},e._l(e.comments,(function(t){return n("CommentVue",{key:t.id,attrs:{deleteComment:e.deleteCommentRequest,comment:t}})})),1)]):e._e()])},s=[],r=(n("4de4"),n("4160"),n("d4ec")),i=function e(){Object(r["a"])(this,e),this.server=new WebSocket("wss://echo.websocket.org")},c=function e(t,n){Object(r["a"])(this,e),this.id=n,this.text=t},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment flex"},[n("div",[e._v(e._s(e.comment.text))]),n("button",{staticClass:"delete_button",on:{click:function(t){return e.deleteComment(e.comment.id)}}},[e._v("Delete")])])},u=[],m={name:"CommentVue",props:{comment:c,deleteComment:Function}},d=m,f=(n("108e"),n("2877")),l=Object(f["a"])(d,a,u,!1,null,"967cf868",null),h=l.exports,v={name:"WebsocketsVue",components:{CommentVue:h},data:function(){return{comments:[],addId:5,newCommentText:"",commentRequests:{},ready:!1,errorMessage:"",socket:new i}},methods:{initComments:function(){var e=this,t=["First comment","Second one","Hey there"];this.addId=t.length,t.forEach((function(t,n){var o=new c(t,n);e.comments.push(o)}))},delete:function(e){console.log(e),this.comments=this.comments.filter((function(t){return t.id!==+e.id}))},add:function(e){var t=new c(e.data,e.id);this.comments.push(t)},handleResponses:function(e){var t=this.commentRequests[e.data];console.log(e),t&&this[t.method]&&(this[t.method](t),this.commentRequests[e.data]=void 0)},deleteCommentRequest:function(e){this.commentRequests[e]={},this.commentRequests[e].method="delete",this.commentRequests[e].id=e,this.socket.server.send(e)},addCommentRequest:function(){this.addId+=1;var e=this.addId;this.commentRequests[e]={},this.commentRequests[e].method="add",this.commentRequests[e].data=this.newCommentText,this.commentRequests[e].id=e,this.newCommentText="",this.socket.server.send(e)}},mounted:function(){var e=this;this.initComments(),this.socket.server.onopen=function(){return e.ready=!0},this.socket.server.onmessage=this.handleResponses,this.socket.server.onerror=function(t){console.log("error",t),e.errorMessage=t,setTimeout((function(){e.errorMessage=""}),2e3)}}},p=v,C=(n("a175"),Object(f["a"])(p,o,s,!1,null,"1c56880d",null));t["default"]=C.exports},4160:function(e,t,n){"use strict";var o=n("23e7"),s=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"4de4":function(e,t,n){"use strict";var o=n("23e7"),s=n("b727").filter,r=n("d039"),i=n("1dde"),c=i("filter"),a=c&&!r((function(){[].filter.call({length:-1,0:1},(function(e){throw e}))}));o({target:"Array",proto:!0,forced:!c||!a},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var o=n("861d"),s=n("e8b5"),r=n("b622"),i=r("species");e.exports=function(e,t){var n;return s(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?o(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"6a54":function(e,t,n){},a175:function(e,t,n){"use strict";var o=n("a8fe"),s=n.n(o);s.a},a8fe:function(e,t,n){},b301:function(e,t,n){"use strict";var o=n("d039");e.exports=function(e,t){var n=[][e];return!n||!o((function(){n.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,n){var o=n("f8c2"),s=n("44ad"),r=n("7b0b"),i=n("50c4"),c=n("65f0"),a=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,m=4==e,d=6==e,f=5==e||d;return function(l,h,v,p){for(var C,b,w=r(l),x=s(w),g=o(h,v,3),y=i(x.length),_=0,R=p||c,k=t?R(l,y):n?R(l,0):void 0;y>_;_++)if((f||_ in x)&&(C=x[_],b=g(C,_,w),e))if(t)k[_]=b;else if(b)switch(e){case 3:return!0;case 5:return C;case 6:return _;case 2:a.call(k,C)}else if(m)return!1;return d?-1:u||m?m:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d4ec:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return o}))},e8b5:function(e,t,n){var o=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=chunk-46fcecfe.2c002f26.js.map